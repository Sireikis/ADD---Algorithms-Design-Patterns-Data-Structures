<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../../../../css/ContentStyle.css">
            <link rel="stylesheet" href="../../../../css/RedStyle.css">
                <link rel="stylesheet" href="../../../../Prism/prism.css">
                    </head>
    <body>
        <h1 class="title">Hash List</h1>
        
        <h2>Code - Structure</h2>
        
        <pre><code class="language-swift">
            /*
             We can choose to represent the Hash List in many
             different ways with a variety of structures. The
             implementation below is meant to illustrate the
             concept of a Hash List, not an efficient
             implementation that you may see in production code.
             
             We will represent some data (perhaps a file) as a
             sentence. A complete sentence represents the entire
             data source put together, while the individual words
             are the pieces of that data that get hashed.
             */
            public class HashList {
                // Contains the hashes returned by the hash function
                public var hashList = [Int]()
                // The hash returned by hashing the contents of hashList
                public var topHash: Int?
                
                public func fillHashList(_ input: String) {
                    // The string is split into an array containing words
                    let fileChunks = input.components(separatedBy: " ")
                    for chunk in fileChunks {
                        // The hash for each chunk of data is generated
                        hashList.append(hashFunction(chunk))
                    }
                }
                
                // A bad but very simple hash function.
                public func hashFunction(_ input: String) -> Int {
                    return input.count
                }
                
                // A bad but very simple hash function for top hash.
                public func calculateTopHash() {
                    var newHash = 0
                    for hash in hashList {
                        newHash += hash
                    }
                    topHash = newHash
                }
            }

            // -------------------------

            var fileData = "The contents of a file"
            var hashList = HashList()

            // Each piece of data is run through the hash function.
            hashList.fillHashList(fileData)
            print(hashList.hashList)
            // Prints "[3, 8, 2, 1, 4]"

            // Each hash is run through a hash function.
            hashList.calculateTopHash()
            print(hashList.topHash!)
            // Prints "18"

            /*
             The topHash will uniquely identify a piece of data,
             so that through a single comparison two pieces of data
             can be authenticated.
             */
        </code></pre>

        <script src="../../../../Prism/prism.js"></script>
    </body>
</html>

